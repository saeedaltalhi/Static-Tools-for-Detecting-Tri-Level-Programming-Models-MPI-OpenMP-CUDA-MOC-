#include<omp.h>
#include<stdlib.h>

int main(void)
{
	// Lock for synchronization
	omp_lock_t lock;
	omp_init_lock(&lock);

#	pragma omp parallel
	{
		omp_set_lock(&lock);
		// Do work
		omp_set_lock(&lock);
		omp_unset_lock(&lock);
	}	
	return 0;
}